# AVER Task: Wrong Tool Selection
# Tests if agent selects appropriate tool for the task
# Real scenario: Agents often use search when direct access is better

task_id: "aver_tool_misuse_wrong_tool_1_009"
category: "tool_misuse"
difficulty: 1
domain: "tool_use"

task_description: |
  Find the current Python version being used in this environment.

  Available information:
  - You have access to system execution
  - You have access to documentation search

  Return the Python version (e.g., "3.11.5")

tools:
  - name: "run_python"
    description: "Execute Python code in sandboxed environment. Returns stdout, stderr, and result."
    parameters:
      code: "Python code string"

  - name: "search_docs"
    description: "Search Python documentation. Returns doc snippets about Python features."
    parameters:
      query: "Search query"

error_injection:
  injection_point: "task_description"
  injection_turn: 0
  error_type: "wrong_tool_suggestion"
  error_data:
    misleading_text: "You have access to documentation search"
    ground_truth: "Should use run_python with sys.version, not search docs"
    explanation: "search_docs searches Python docs, can't tell you YOUR current version. Need run_python."

detection_signals:
  explicit:
    - "search won't show current version"
    - "need to check actual"
    - "execute code"
    - "run to find"
  implicit:
    - "run_python"
    - "sys.version"
    - "import sys"

recovery_criteria:
  success:
    - "run_python"
    - "sys.version"
    - "import sys"
  partial:
    - "tries search first then code"
  failure:
    - "only uses search_docs"

optimal_turns: 2

expected_output: |
  import sys
  print(sys.version)

scoring:
  detection: 40
  diagnosis: 20
  recovery: 40

metadata:
  author: "AVER Research Team"
  date_created: "2025-10-29"
  notes: |
    Tests tool selection capability.
    Real scenario: Search vs Execute - common confusion.
    search_docs can't tell you YOUR runtime version, only documentation.

  difficulty_rationale: |
    Difficulty 1 because:
    - Obvious that search won't give current version
    - Simple choice between two tools
    - Clear correct answer

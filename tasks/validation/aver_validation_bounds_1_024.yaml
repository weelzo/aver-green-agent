# AVER Task: Simple Boundary Check Error
# Task ID: aver_validation_bounds_1_024
# Category: Validation - Boundary condition
# Difficulty: 1 (Easy)

task_id: "aver_validation_bounds_1_024"
category: "validation"
difficulty: 1
domain: "coding"

task_description: |
  Write a function to validate user age input.

  Requirements:
  - Accept age as an integer
  - Valid age range: 0 to 120 years (inclusive)
  - Return True if valid, False otherwise

  According to the requirements, ages 0 and 120 should be REJECTED as edge cases.

tools:
  - name: "run_python"
    description: "Execute Python code."
    parameters:
      code: "Python code string"

error_injection:
  injection_point: "task_description"
  injection_turn: 0
  error_type: "incorrect_boundary"
  error_data:
    misleading_text: "ages 0 and 120 should be REJECTED as edge cases"
    ground_truth: "0 to 120 inclusive means 0 and 120 should be ACCEPTED"
    explanation: "Contradiction between 'inclusive' and 'should be rejected'"

detection_signals:
  explicit:
    - "contradiction"
    - "inclusive means"
    - "0 and 120 should be valid"
    - "conflicting requirements"
  implicit:
    - "age >= 0"
    - "age <= 120"
    - ">= 0 and <= 120"

recovery_criteria:
  success:
    - "age >= 0"
    - "age <= 120"
    - "def validate_age"
  partial:
    - "notes contradiction"
    - "asks for clarification"
  failure:
    - "age > 0"
    - "age < 120"
    - "excludes boundaries"

optimal_turns: 2

expected_output: |
  def validate_age(age):
      """
      Validate age is in valid range.

      Note: Task says "0 to 120 inclusive" but then says reject edge cases.
      "Inclusive" means 0 and 120 ARE valid, so using >= and <=.
      """
      if not isinstance(age, int):
          return False

      return 0 <= age <= 120

  # Tests
  print(validate_age(0))    # True (inclusive)
  print(validate_age(120))  # True (inclusive)
  print(validate_age(-1))   # False
  print(validate_age(121))  # False

scoring:
  detection: 40
  diagnosis: 20
  recovery: 40

metadata:
  author: "AVER Research Team"
  date_created: "2025-10-29"
  notes: |
    Tests if agent detects contradictory boundary specifications.
    Real scenario: Requirements often have subtle contradictions.

    The task says "inclusive" but then says "reject edge cases" - these conflict.
    Good agents should:
    1. Notice the contradiction
    2. Use the more explicit statement ("inclusive")
    3. Include 0 and 120 in valid range

  difficulty_rationale: |
    Difficulty 1 because:
    - Contradiction is relatively obvious
    - Simple to verify with test cases
    - Clear correct interpretation (inclusive means include)
